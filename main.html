<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Калькулятор</title>
    <link href="style.css" rel="stylesheet" />
  </head>
  <body>
    <div class="block">
      <div class="polls">
        <div class="polevivoda"></div>
      </div>

      <div class="buttons">
        <button onclick="poleavvoda(1)" class="b-1">1</button>
        <button onclick="poleavvoda(2)" class="b-2">2</button>
        <button onclick="poleavvoda(3)" class="b-3">3</button>
        <button onclick="poleavvoda('+')" class="btn-2">+</button>

        <button onclick="poleavvoda(4)" class="b-4">4</button>
        <button onclick="poleavvoda(5)" class="b-5">5</button>
        <button onclick="poleavvoda(6)" class="b-6">6</button>
        <button onclick="poleavvoda('-')" class="btn-1">-</button>

        <button onclick="poleavvoda(7)" class="b-7">7</button>
        <button onclick="poleavvoda(8)" class="b-8">8</button>
        <button onclick="poleavvoda(9)" class="b-9">9</button>
        <button onclick="poleavvoda('=')" class="ravno">=</button>

        <button onclick="poleavvoda(0)" class="b-0">0</button>

        <button onclick="poleavvoda('AC')" class="btn-5">AC</button>
        <button onclick="poleavvoda('/')" class="btn-3">/</button>
        <button onclick="poleavvoda('*')" class="btn-4">*</button>
      </div>
    </div>
    <script>
      function poleavvoda(operation) {
        let pole = document.querySelector(".polevivoda");
        let pozn = pole.innerHTML;
        let lastIndex = pozn.length - 1;
        let last = pozn[lastIndex];
        console.log(last);

        if (typeof operation === "number") {
          console.log("это число");
          pole.innerHTML += operation;
        } else if (operation === "AC") {
          console.log("удалить");
          pole.innerHTML = "";
        } else if (operation === "=") {
          console.log("равно");
          console.log(pole.innerHTML);
          let itog = pole.innerHTML;
          let res = eval(itog);
          console.log(eval(itog));
          pole.innerHTML = res;
        } else {
          // +, -, /, *
          console.log("операция");

          if (last === "+" || last === "-" || last === "/" || last === "*") {
            pozn = pozn.substring(0, pozn.length - 1) + operation;
            console.log("Поменялся?", pozn);
            pole.innerHTML = pozn;
          } else {
            pole.innerHTML += operation;
          }
        }
      }
    </script>
    <script></script>
  </body>
</html>
